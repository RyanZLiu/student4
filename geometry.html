---
layout: base
permalink: /geometry/
title: Expenses
search_exclude: true
---

<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shoelace + Interactive Plot</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 1em; }
    input, button { margin: .2em; }
    table { border-collapse: collapse; margin-top: .5em; }
    th, td { border:1px solid #ccc; padding:4px 8px; }
  </style>
</head>
<body>
  <h1>Find Area Using Shoelace Theorem</h1>
  <h2>Enter in **clockwise** order</h2>

  <label>X: <input type="number" id="xcoordinate" step="0.01"></label>
  <label>Y: <input type="number" id="ycoordinate" step="0.01"></label>
  <button onclick="addcoordinate()">Submit</button>

  <h3>Coordinate Table</h3>
  <table id="coordinatesTable">
    <thead><tr><th>X</th><th>Y</th></tr></thead>
    <tbody></tbody>
  </table>

  <p id="totalarea">The area of your polygon is 0.00</p>

  <!-- Plotly graph -->
  <div id="plot" style="width:600px; height:600px; margin-top:1em;"></div>

  <script>
    var xcoords = [], ycoords = [];

    function addcoordinate() {
      var X = parseFloat(document.getElementById("xcoordinate").value);
      var Y = parseFloat(document.getElementById("ycoordinate").value);
      if (isNaN(X) || isNaN(Y)) {
        return alert("Please enter both X and Y!");
      }
      xcoords.push(X);
      ycoords.push(Y);
      updateTable();
      computeArea();
      updateGraph();
    }

    function updateTable() {
      var tbody = document.querySelector("#coordinatesTable tbody");
      tbody.innerHTML = "";
      for (var i = 0; i < xcoords.length; i++) {
        var tr = document.createElement("tr");
        tr.innerHTML = "<td>" + xcoords[i] + "</td><td>" + ycoords[i] + "</td>";
        tbody.appendChild(tr);
      }
    }

    function computeArea() {
      var areaText = "The area of your polygon is 0.00";
      if (xcoords.length >= 3) {
        var a1 = 0, a2 = 0;
        for (var i = 0; i < xcoords.length - 1; i++) {
          a1 += xcoords[i] * ycoords[i+1];
          a2 += ycoords[i] * xcoords[i+1];
        }
        a1 += xcoords[xcoords.length-1] * ycoords[0];
        a2 += ycoords[ycoords.length-1] * xcoords[0];
        var area = 0.5 * Math.abs(a1 - a2);
        areaText = "The area of your polygon is " + area.toFixed(2);
      }
      document.getElementById("totalarea").textContent = areaText;
    }

    function updateGraph() {
      // 1) build closed‐polygon arrays
      let xPlot = xcoords.slice();
      let yPlot = ycoords.slice();

      // if we have at least one point, append the first point again
      if (xcoords.length > 0) {
        xPlot.push(xcoords[0]);
        yPlot.push(ycoords[0]);
      }

      // 2) create the trace with fill:'toself' for 3+ points
      const trace = {
        x:       xPlot,
        y:       yPlot,
        mode:    'lines+markers',
        fill:    xcoords.length >= 3 ? 'toself' : 'none',
        fillcolor: 'rgba(173,216,230,0.5)',
        marker:  { size: 8, color: 'red' },
        line:    { color: '#007acc' }
      };

      // 3) numbered/grid axes + pan/zoom
      const layout = {
        xaxis: { title: 'X', zeroline: true, showgrid: true, gridcolor: '#ddd' },
        yaxis: { title: 'Y', zeroline: true, showgrid: true, gridcolor: '#ddd' },
        dragmode: 'pan',
        hovermode: 'closest'
      };

      // 4) redraw the entire plot
      Plotly.newPlot('plot', [trace], layout, {
        responsive: true,
        scrollZoom: true    // enable wheel‐to‐zoom
      });
    }


    // initialize empty plot
    updateGraph();
  </script>
</body>
</html>